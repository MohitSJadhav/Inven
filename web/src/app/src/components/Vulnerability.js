import React from "react";
import { TabPane, Tab, Segment } from 'semantic-ui-react';
import 'semantic-ui-css/semantic.min.css';
import "./Exception.css";
import AddVulnerability from "./Add/AddVulnerability";
import UpdateVulnerability from "./Update/UpdateVulnerability";
import DeleteVulnerability from "./Delete/DeleteVulnerability";
import LookupVulnerability from "./Search/SearchVulnerability";

export default function Vulnerability() {
    const isAdmin = sessionStorage.getItem("isAdmin");
    const panes = [
        { menuItem: 'Lookup Vulnerability', render: () => <TabPane attached={false}><LookupVulnerability /></TabPane> },
        ...(isAdmin ? [
            { menuItem: 'Add Vulnerability', render: () => <TabPane ><AddVulnerability /></TabPane> },
            { menuItem: 'Update Vulnerability', render: () => <TabPane ><UpdateVulnerability /></TabPane> },
            { menuItem: 'Delete Vulnerability', render: () => <TabPane ><DeleteVulnerability /></TabPane> },
        ] : []),
    ]

    return (<Segment>
        <h1 className="vm-heading">Vulnerability</h1>
        <div className="vm-tabs">
            <Tab menu={{ pointing: true }} grid={{ paneWidth: 12, tabWidth: 5 }} renderActiveOnly={true} panes={panes} />
        </div>
    </Segment>
    );
}